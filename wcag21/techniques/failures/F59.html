<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
   <head>
      <meta charset="UTF-8" />
      <title>F59: Failure of Success Criterion 4.1.2 due to using script to make div or span a user
         interface control in HTML without providing a role for the control
      </title>
      <link rel="stylesheet" type="text/css" href="https://www.w3.org/StyleSheets/TR/2016/base" />
      <link rel="stylesheet" type="text/css" href="../techniques.css" />
      <link rel="stylesheet" type="text/css" href="../slicenav.css" />
   </head>
   <body>
      <nav>
         <ul id="navigation">
            <li><a href="https://w3c.github.io/wcag/techniques/#techniques" title="Table of Contents">Contents</a></li>
            <li><a href="https://w3c.github.io/wcag/techniques/#introduction" title="Introduction to Techniques">Intro</a></li>
            <li><a href="F58">Previous Technique: F58</a></li>
            <li><a href="F60">Next Technique: F60</a></li>
         </ul>
      </nav>
      <nav class="navtoc">
         <p>On this page:</p>
         <ul id="navbar">
            <li><a href="#important-information">Important Information about Techniques</a></li>
            <li><a href="#applicability">Applicability</a></li>
            <li><a href="#description">Description</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#resources">Related Resources</a></li>
            <li><a href="#related">Related Techniques</a></li>
            <li><a href="#tests">Tests</a></li>
         </ul>
      </nav>
      <h1>Failure of Success Criterion 4.1.2 due to using script to make div or span a user
         interface control in HTML without providing a role for the control
      </h1>
      <section id="important-information">
         <h2>Important Information about Techniques</h2>
         <p>See <a href="https://w3c.github.io/wcag/understanding/understanding-techniques">Understanding Techniques for WCAG Success Criteria</a> for important information about the usage of these informative techniques and how
            they relate to the normative WCAG 2.1 success criteria. The Applicability section
            explains the scope of the technique, and the presence of techniques for a specific
            technology does not imply that the technology can be used in all situations to create
            content that meets WCAG 2.1.
         </p>
      </section>
      <main>
         <section id="applicability">
            <h2>Applicability</h2>
            <p> HTML and XHTML</p>
            <p>This technique relates to <span><a href="https://w3c.github.io/wcag/understanding/name-role-value">Success Criterion 4.1.2: Name, Role, Value</a> (Failure)</span>.
            </p>
         </section>
         <section id="description">
            <h2>Description</h2>
            <p> This failure demonstrates how using generic HTML elements to create user
               interface controls can make the controls inaccessible to assistive
               technology. Assistive technologies rely on knowledge of the role and current
               state of a component in order to provide that information to the user. Many
               HTML elements have well defined roles, such as links, buttons, text fields,
               etc. Generic elements such as <code class="el">div</code> and <code class="el">span</code> do not
               have any predefined roles. When these generic elements are used to create
               user interface controls in HTML the assistive technology may not have the
               necessary information to describe and interact with the control. 
            </p>
            <p>
               <div class="note">
                  <div role="heading" class="note-title marker" aria-level="3">Note</div>
                  <div>Attaching event handlers to elements that are not normally interactive, such
                     as <code class="el">span</code> and <code class="el">div</code>, can be disorienting to
                     users. Even if care is taken to provide keyboard access to such elements,
                     users may have a difficult time discovering that there are interactive
                     controls in the content or understanding what type of behavior to expect
                     from them. For example, users may not know which keystrokes are supported by
                     the script to activate the element. Additionally, these elements do not
                     generate the same operating system events as interactive elements, so
                     assistive technology may not be notified when the user activates them.
                  </div>
               </div>
            </p>
            <p> The W3C Candidate Recommendation "<a href="https://www.w3.org/TR/wai-aria/">Accessible Rich Internet Applications (WAI-ARIA) 1.0</a>" describes mechanisms to provide the necessary role and state information to create
               fully accessible user interface controls.
            </p>
         </section>
         <section id="examples">
            <h2>Examples</h2>
            <section class="example" id="example-1">
               <h3>Example 1</h3>
               <p>The following example fails because it creates a checkbox using a span and an image.</p><pre xml:space="preserve">
  &lt;p&gt; 
  &lt;span  onclick="toggleCheckbox('chkbox')"&gt; 
  &lt;img src="unchecked.gif"  id="chkbox" alt=""&gt; Include Signature 
  &lt;/span&gt; 
  &lt;/p&gt;</pre><p>Here is the scripting code which changes the image source when the <code class="el">span</code> is clicked with the mouse.
               </p><pre xml:space="preserve"> 
  var CHECKED = "check.gif"; 
  var UNCHECKED = "unchecked.gif"; 
  function toggleCheckbox(imgId) { 
  var theImg = document.getElementById(imgId); 
  if ( theImg.src.lastIndexOf(CHECKED)!= -1 ) { 
  theImg.src = UNCHECKED; 
  // additional code to implement unchecked action 
  } 
  else { 
  theImg.src = CHECKED; 
  // additional code to implement checked action 
  } 
  } </pre><p> A checkbox created in this manner will not work with assistive technology since there
                  is no information that identifies it as a checkbox. In addition, this example is also
                  not operable from the keyboard and would fail guideline 2.1.
               </p>
            </section>
         </section>
         <section id="resources">
            <h2>Resources</h2>
            <p>Resources are for information purposes only, no endorsement implied.</p>
            <ul>
               
               <li>
                  <a href="https://www.w3.org/TR/wai-aria/">Accessible Rich Internet Applications (WAI-ARIA) 1.0</a>
                  
               </li>
               
               <li>
                  <a href="https://www.w3.org/TR/wai-aria-practices/">WAI-ARIA 1.0 Authoring Practices</a> 
                  
               </li>
               
            </ul>
         </section>
         <section id="related">
            <h2>Related Techniques</h2>
            <ul>
               
               <li><a href="https://w3c.github.io/wcag/techniques/failures/F42">F42: Failure of Success Criteria 1.3.1, 2.1.1, 2.1.3, or 4.1.2 when emulating links</a></li>
               
               <li><a href="https://w3c.github.io/wcag/techniques/aria/ARIA4">ARIA4: Using a WAI-ARIA role to expose the role of a user interface component</a></li>
               
               
            </ul>
         </section>
         <section id="tests">
            <h2>Tests</h2>
            <section class="procedure" id="procedure">
               <h3>Procedure</h3>
               
               <ol>
                  
                  <li>Examine the parsed source code for elements which have event handlers assigned within
                     the mark-up or via scripting (indicating that the element is a user interface control).
                  </li>
                  
                  <li>Check if the role of the control is already defined natively in the mark-up language.</li>
                  
                  <li>Check if another valid method, such as the assignment of a fitting WAI-ARIA role,
                     has been used to define the role of the control.
                  </li>
                  
               </ol>
               
            </section>
            <section class="results" id="expected-results">
               <h3>Expected Results</h3>
               
               <p>If check #2 AND check #3 are false, the failure condition applies.</p>
               
            </section>
         </section>
      </main>
   </body>
</html>